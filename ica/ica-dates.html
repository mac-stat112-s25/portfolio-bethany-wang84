<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>COMP/STAT112 Notebook - 13&nbsp; Dates</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../ica/ica-reshaping.html" rel="next">
<link href="../ica/ica-wrangling.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><link rel="stylesheet" href="../style/custom.css">
</head>
<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../ica/ica-uni.html">In-class Activities</a></li><li class="breadcrumb-item"><a href="../ica/ica-dates.html"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Dates</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Your Name Here</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Best Work</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bw/bw-uni.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Univariate Viz</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bw/bw-bi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Bivariate Viz</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bw/bw-tri.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Trivariate Viz</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bw/bw-quad.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Quadvariate Viz</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bw/bw-spatial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Spatial Viz</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bw/bw-choropleth.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Solo Project</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">In-class Activities</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-uni.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Univariate Viz</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-bi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Bivariate Viz</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-multi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Mulivariate Viz</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-spatial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Spatial Viz</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-effective.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Effective Viz</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-wrangling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Wrangling</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-dates.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Dates</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-reshaping.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Reshaping</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-joining.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Joining</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-factors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Factors</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-strings.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Strings</span></span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../ica/ica-uni.html">In-class Activities</a></li><li class="breadcrumb-item"><a href="../ica/ica-dates.html"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Dates</span></a></li></ol></nav><div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">
<span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Dates</span>
</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   3.5.1     ✔ tibble    3.2.1
✔ lubridate 1.9.3     ✔ tidyr     1.3.1
✔ purrr     1.0.2     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="fu">library</span>(mosaic)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Registered S3 method overwritten by 'mosaic':
  method                           from   
  fortify.SpatialPolygonsDataFrame ggplot2

The 'mosaic' package masks several functions from core packages in order to add 
additional features.  The original behavior of these functions should not be affected by this.

Attaching package: 'mosaic'

The following object is masked from 'package:Matrix':

    mean

The following objects are masked from 'package:dplyr':

    count, do, tally

The following object is masked from 'package:purrr':

    cross

The following object is masked from 'package:ggplot2':

    stat

The following objects are masked from 'package:stats':

    binom.test, cor, cor.test, cov, fivenum, IQR, median, prop.test,
    quantile, sd, t.test, var

The following objects are masked from 'package:base':

    max, mean, min, prod, range, sample, sum</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co"># Exercise 1a: More Filtering</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="co"># Keep only Adelie and Chinstrap using %in%</span></span>
<span id="cb5-3"><a href="#cb5-3"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb5-4"><a href="#cb5-4"></a>  <span class="fu">filter</span>(species <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Adelie"</span>, <span class="st">"Chinstrap"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb5-5"><a href="#cb5-5"></a>  <span class="fu">count</span>(species)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  species       n
  &lt;fct&gt;     &lt;int&gt;
1 Adelie      152
2 Chinstrap    68</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="co"># %in% keeps rows where species is one of the two</span></span>
<span id="cb7-2"><a href="#cb7-2"></a></span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="co"># Keep only Adelie and Chinstrap using !=</span></span>
<span id="cb7-4"><a href="#cb7-4"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb7-5"><a href="#cb7-5"></a>  <span class="fu">filter</span>(species <span class="sc">!=</span> <span class="st">"Gentoo"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb7-6"><a href="#cb7-6"></a>  <span class="fu">count</span>(species)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  species       n
  &lt;fct&gt;     &lt;int&gt;
1 Adelie      152
2 Chinstrap    68</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="co"># species != "Gentoo" drops Gentoo, leaving the other two</span></span>
<span id="cb9-2"><a href="#cb9-2"></a></span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="co"># Exercise 1b: Handling NAs</span></span>
<span id="cb9-4"><a href="#cb9-4"></a><span class="co"># Count how many penguins missing body_mass_g</span></span>
<span id="cb9-5"><a href="#cb9-5"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">missing =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(body_mass_g)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  missing
    &lt;int&gt;
1       2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="co"># Remove only those missing body_mass_g</span></span>
<span id="cb11-2"><a href="#cb11-2"></a>penguins_w_body_mass <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(body_mass_g))</span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="co"># Remove rows missing *any* variable (use sparingly!)</span></span>
<span id="cb11-4"><a href="#cb11-4"></a>penguins_complete <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> <span class="fu">na.omit</span>()</span>
<span id="cb11-5"><a href="#cb11-5"></a><span class="co"># na.omit() drops rows with ANY NA; use only when you truly need complete cases</span></span>
<span id="cb11-6"><a href="#cb11-6"></a></span>
<span id="cb11-7"><a href="#cb11-7"></a><span class="co"># Exercise 2: More Selecting</span></span>
<span id="cb11-8"><a href="#cb11-8"></a><span class="co"># Keep everything except year and island</span></span>
<span id="cb11-9"><a href="#cb11-9"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>year, <span class="sc">-</span>island)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 344 × 6
   species bill_length_mm bill_depth_mm flipper_length_mm body_mass_g sex   
   &lt;fct&gt;            &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt; &lt;fct&gt; 
 1 Adelie            39.1          18.7               181        3750 male  
 2 Adelie            39.5          17.4               186        3800 female
 3 Adelie            40.3          18                 195        3250 female
 4 Adelie            NA            NA                  NA          NA &lt;NA&gt;  
 5 Adelie            36.7          19.3               193        3450 female
 6 Adelie            39.3          20.6               190        3650 male  
 7 Adelie            38.9          17.8               181        3625 female
 8 Adelie            39.2          19.6               195        4675 male  
 9 Adelie            34.1          18.1               193        3475 &lt;NA&gt;  
10 Adelie            42            20.2               190        4250 &lt;NA&gt;  
# ℹ 334 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="co"># Keep species and all measurements in millimeters</span></span>
<span id="cb13-2"><a href="#cb13-2"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">select</span>(species, <span class="fu">ends_with</span>(<span class="st">"_mm"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 344 × 4
   species bill_length_mm bill_depth_mm flipper_length_mm
   &lt;fct&gt;            &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;
 1 Adelie            39.1          18.7               181
 2 Adelie            39.5          17.4               186
 3 Adelie            40.3          18                 195
 4 Adelie            NA            NA                  NA
 5 Adelie            36.7          19.3               193
 6 Adelie            39.3          20.6               190
 7 Adelie            38.9          17.8               181
 8 Adelie            39.2          19.6               195
 9 Adelie            34.1          18.1               193
10 Adelie            42            20.2               190
# ℹ 334 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="co"># Keep species and all bill-related measurements</span></span>
<span id="cb15-2"><a href="#cb15-2"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">select</span>(species, <span class="fu">starts_with</span>(<span class="st">"bill"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 344 × 3
   species bill_length_mm bill_depth_mm
   &lt;fct&gt;            &lt;dbl&gt;         &lt;dbl&gt;
 1 Adelie            39.1          18.7
 2 Adelie            39.5          17.4
 3 Adelie            40.3          18  
 4 Adelie            NA            NA  
 5 Adelie            36.7          19.3
 6 Adelie            39.3          20.6
 7 Adelie            38.9          17.8
 8 Adelie            39.2          19.6
 9 Adelie            34.1          18.1
10 Adelie            42            20.2
# ℹ 334 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="co"># Keep species and all length-related measurements</span></span>
<span id="cb17-2"><a href="#cb17-2"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">select</span>(species, <span class="fu">contains</span>(<span class="st">"length"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 344 × 3
   species bill_length_mm flipper_length_mm
   &lt;fct&gt;            &lt;dbl&gt;             &lt;int&gt;
 1 Adelie            39.1               181
 2 Adelie            39.5               186
 3 Adelie            40.3               195
 4 Adelie            NA                  NA
 5 Adelie            36.7               193
 6 Adelie            39.3               190
 7 Adelie            38.9               181
 8 Adelie            39.2               195
 9 Adelie            34.1               193
10 Adelie            42                 190
# ℹ 334 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="co"># Exercise 3: Arranging, Counting, Grouping by Multiple</span></span>
<span id="cb19-2"><a href="#cb19-2"></a><span class="co"># Sort by species then island</span></span>
<span id="cb19-3"><a href="#cb19-3"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(species, island)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 344 × 8
   species island bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
   &lt;fct&gt;   &lt;fct&gt;           &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;
 1 Adelie  Biscoe           37.8          18.3               174        3400
 2 Adelie  Biscoe           37.7          18.7               180        3600
 3 Adelie  Biscoe           35.9          19.2               189        3800
 4 Adelie  Biscoe           38.2          18.1               185        3950
 5 Adelie  Biscoe           38.8          17.2               180        3800
 6 Adelie  Biscoe           35.3          18.9               187        3800
 7 Adelie  Biscoe           40.6          18.6               183        3550
 8 Adelie  Biscoe           40.5          17.9               187        3200
 9 Adelie  Biscoe           37.9          18.6               172        3150
10 Adelie  Biscoe           40.5          18.9               180        3950
# ℹ 334 more rows
# ℹ 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="co"># Count male/female by species</span></span>
<span id="cb21-2"><a href="#cb21-2"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">count</span>(species, sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 3
  species   sex        n
  &lt;fct&gt;     &lt;fct&gt;  &lt;int&gt;
1 Adelie    female    73
2 Adelie    male      73
3 Adelie    &lt;NA&gt;       6
4 Chinstrap female    34
5 Chinstrap male      34
6 Gentoo    female    58
7 Gentoo    male      61
8 Gentoo    &lt;NA&gt;       5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="co"># Average body mass by species and sex</span></span>
<span id="cb23-2"><a href="#cb23-2"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb23-3"><a href="#cb23-3"></a>  <span class="fu">group_by</span>(species, sex) <span class="sc">%&gt;%</span> </span>
<span id="cb23-4"><a href="#cb23-4"></a>  <span class="fu">summarize</span>(<span class="at">mean_mass =</span> <span class="fu">mean</span>(body_mass_g, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'species'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 3
# Groups:   species [3]
  species   sex    mean_mass
  &lt;fct&gt;     &lt;fct&gt;      &lt;dbl&gt;
1 Adelie    female     3369.
2 Adelie    male       4043.
3 Adelie    &lt;NA&gt;       3540 
4 Chinstrap female     3527.
5 Chinstrap male       3939.
6 Gentoo    female     4680.
7 Gentoo    male       5485.
8 Gentoo    &lt;NA&gt;       4588.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a><span class="co"># Exercise 4: Dates with lubridate</span></span>
<span id="cb26-2"><a href="#cb26-2"></a>today <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="fu">today</span>())</span>
<span id="cb26-3"><a href="#cb26-3"></a><span class="fu">class</span>(today)           <span class="co"># "Date"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Date"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a><span class="fu">year</span>(today)            <span class="co"># 2025</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2025</code></pre>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a><span class="fu">month</span>(today)           <span class="co"># 5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a><span class="fu">month</span>(today, <span class="at">label=</span><span class="cn">TRUE</span>)  <span class="co"># "May"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] May
12 Levels: Jan &lt; Feb &lt; Mar &lt; Apr &lt; May &lt; Jun &lt; Jul &lt; Aug &lt; Sep &lt; ... &lt; Dec</code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a><span class="fu">week</span>(today)            <span class="co"># 19 (ISO week)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 19</code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a><span class="fu">mday</span>(today)            <span class="co"># 7 (day of month)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 13</code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a><span class="fu">yday</span>(today)            <span class="co"># 127 (day of year)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 133</code></pre>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a><span class="fu">wday</span>(today)            <span class="co"># 4 (1 = Sunday)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a><span class="fu">wday</span>(today, <span class="at">label=</span><span class="cn">TRUE</span>)  <span class="co"># "Wed"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] Tue
Levels: Sun &lt; Mon &lt; Tue &lt; Wed &lt; Thu &lt; Fri &lt; Sat</code></pre>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a>today <span class="sc">&gt;=</span> <span class="fu">ymd</span>(<span class="st">"2024-02-14"</span>)  <span class="co"># TRUE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a>today <span class="sc">&lt;</span>  <span class="fu">ymd</span>(<span class="st">"2024-02-14"</span>)  <span class="co"># FALSE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a><span class="co"># Exercise 5: Birthdays dataset</span></span>
<span id="cb48-2"><a href="#cb48-2"></a><span class="fu">data</span>(<span class="st">"Birthdays"</span>)</span>
<span id="cb48-3"><a href="#cb48-3"></a><span class="co"># How many days of data per state?</span></span>
<span id="cb48-4"><a href="#cb48-4"></a>Birthdays <span class="sc">%&gt;%</span> <span class="fu">count</span>(state)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   state    n
1     AK 7306
2     AL 7312
3     AR 7310
4     AZ 7310
5     CA 7325
6     CO 7305
7     CT 7312
8     DC 7311
9     DE 7307
10    FL 7307
11    GA 7314
12    HI 7306
13    IA 7306
14    ID 7306
15    IL 7314
16    IN 7311
17    KS 7311
18    KY 7313
19    LA 7309
20    MA 7315
21    MD 7311
22    ME 7309
23    MI 7323
24    MN 7315
25    MO 7309
26    MS 7310
27    MT 7305
28    NC 7307
29    ND 7305
30    NE 7305
31    NH 7308
32    NJ 7321
33    NM 7308
34    NV 7307
35    NY 7333
36    OH 7319
37    OK 7306
38    OR 7307
39    PA 7330
40    RI 7305
41    SC 7314
42    SD 7305
43    TN 7308
44    TX 7330
45    UT 7307
46    VA 7310
47    VT 7305
48    WA 7306
49    WI 7311
50    WV 7310
51    WY 7305</code></pre>
</div>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1"></a><span class="co"># Total births overall</span></span>
<span id="cb50-2"><a href="#cb50-2"></a>Birthdays <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">total_births =</span> <span class="fu">sum</span>(births))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  total_births
1     70486538</code></pre>
</div>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1"></a><span class="co"># Total births per state, sorted low→high</span></span>
<span id="cb52-2"><a href="#cb52-2"></a>Birthdays <span class="sc">%&gt;%</span> </span>
<span id="cb52-3"><a href="#cb52-3"></a>  <span class="fu">group_by</span>(state) <span class="sc">%&gt;%</span> </span>
<span id="cb52-4"><a href="#cb52-4"></a>  <span class="fu">summarize</span>(<span class="at">total =</span> <span class="fu">sum</span>(births)) <span class="sc">%&gt;%</span> </span>
<span id="cb52-5"><a href="#cb52-5"></a>  <span class="fu">arrange</span>(total)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 51 × 2
   state  total
   &lt;chr&gt;  &lt;int&gt;
 1 VT    147886
 2 WY    154019
 3 AK    185385
 4 DE    188705
 5 SD    235734
 6 ND    238696
 7 NV    241470
 8 MT    253884
 9 NH    264984
10 RI    265038
# ℹ 41 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a><span class="co"># Exercise 6: daily_births and plot</span></span>
<span id="cb54-2"><a href="#cb54-2"></a>daily_births <span class="ot">&lt;-</span> Birthdays <span class="sc">%&gt;%</span> </span>
<span id="cb54-3"><a href="#cb54-3"></a>  <span class="fu">group_by</span>(date, wday) <span class="sc">%&gt;%</span> </span>
<span id="cb54-4"><a href="#cb54-4"></a>  <span class="fu">summarize</span>(<span class="at">total_births =</span> <span class="fu">sum</span>(births), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb54-5"><a href="#cb54-5"></a></span>
<span id="cb54-6"><a href="#cb54-6"></a><span class="fu">ggplot</span>(daily_births, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> total_births, <span class="at">color =</span> wday)) <span class="sc">+</span></span>
<span id="cb54-7"><a href="#cb54-7"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb54-8"><a href="#cb54-8"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Date"</span>, <span class="at">y =</span> <span class="st">"Total Births"</span>, <span class="at">color =</span> <span class="st">"Weekday"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-dates_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1"></a><span class="co"># Exercise 7a: Monthly births over time</span></span>
<span id="cb55-2"><a href="#cb55-2"></a>monthly_births <span class="ot">&lt;-</span> Birthdays <span class="sc">%&gt;%</span> </span>
<span id="cb55-3"><a href="#cb55-3"></a>  <span class="fu">mutate</span>(<span class="at">month =</span> <span class="fu">month</span>(date, <span class="at">label =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb55-4"><a href="#cb55-4"></a>  <span class="fu">group_by</span>(year, month) <span class="sc">%&gt;%</span> </span>
<span id="cb55-5"><a href="#cb55-5"></a>  <span class="fu">summarize</span>(<span class="at">births =</span> <span class="fu">sum</span>(births), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb55-6"><a href="#cb55-6"></a></span>
<span id="cb55-7"><a href="#cb55-7"></a><span class="fu">ggplot</span>(monthly_births, <span class="fu">aes</span>(<span class="at">x =</span> month, <span class="at">y =</span> births, <span class="at">group =</span> year, <span class="at">color =</span> <span class="fu">factor</span>(year))) <span class="sc">+</span></span>
<span id="cb55-8"><a href="#cb55-8"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb55-9"><a href="#cb55-9"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Month"</span>, <span class="at">y =</span> <span class="st">"Total Births"</span>, <span class="at">color =</span> <span class="st">"Year"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-dates_files/figure-html/unnamed-chunk-2-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1"></a><span class="co"># Seasonal peaks and troughs emerge, consistent patterns year-to-year.</span></span>
<span id="cb56-2"><a href="#cb56-2"></a></span>
<span id="cb56-3"><a href="#cb56-3"></a><span class="co"># Exercise 7b: Weekly births in 1988 by state (drop week 53)</span></span>
<span id="cb56-4"><a href="#cb56-4"></a>weekly_1988 <span class="ot">&lt;-</span> Birthdays <span class="sc">%&gt;%</span> </span>
<span id="cb56-5"><a href="#cb56-5"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">1988</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb56-6"><a href="#cb56-6"></a>  <span class="fu">mutate</span>(<span class="at">week =</span> <span class="fu">week</span>(date)) <span class="sc">%&gt;%</span> </span>
<span id="cb56-7"><a href="#cb56-7"></a>  <span class="fu">filter</span>(week <span class="sc">!=</span> <span class="dv">53</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb56-8"><a href="#cb56-8"></a>  <span class="fu">group_by</span>(state, week) <span class="sc">%&gt;%</span> </span>
<span id="cb56-9"><a href="#cb56-9"></a>  <span class="fu">summarize</span>(<span class="at">births =</span> <span class="fu">sum</span>(births), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb56-10"><a href="#cb56-10"></a></span>
<span id="cb56-11"><a href="#cb56-11"></a><span class="fu">ggplot</span>(weekly_1988, <span class="fu">aes</span>(<span class="at">x =</span> week, <span class="at">y =</span> births, <span class="at">color =</span> state)) <span class="sc">+</span></span>
<span id="cb56-12"><a href="#cb56-12"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb56-13"><a href="#cb56-13"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Week"</span>, <span class="at">y =</span> <span class="st">"Total Births"</span>, <span class="at">color =</span> <span class="st">"State"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-dates_files/figure-html/unnamed-chunk-2-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1"></a><span class="co"># Notice seasonal trends differ by state</span></span>
<span id="cb57-2"><a href="#cb57-2"></a></span>
<span id="cb57-3"><a href="#cb57-3"></a><span class="co"># Exercise 7c: Compare MN vs LA in 1988</span></span>
<span id="cb57-4"><a href="#cb57-4"></a>mn_la_1988 <span class="ot">&lt;-</span> weekly_1988 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(state <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"MN"</span>, <span class="st">"LA"</span>))</span>
<span id="cb57-5"><a href="#cb57-5"></a></span>
<span id="cb57-6"><a href="#cb57-6"></a><span class="fu">ggplot</span>(mn_la_1988, <span class="fu">aes</span>(<span class="at">x =</span> week, <span class="at">y =</span> births, <span class="at">color =</span> state)) <span class="sc">+</span></span>
<span id="cb57-7"><a href="#cb57-7"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb57-8"><a href="#cb57-8"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Week"</span>, <span class="at">y =</span> <span class="st">"Total Births"</span>, <span class="at">color =</span> <span class="st">"State"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-dates_files/figure-html/unnamed-chunk-2-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a><span class="co"># MN and LA show different seasonal patterns reflecting climate differences</span></span>
<span id="cb58-2"><a href="#cb58-2"></a></span>
<span id="cb58-3"><a href="#cb58-3"></a><span class="co"># Exercise 8: More Practice</span></span>
<span id="cb58-4"><a href="#cb58-4"></a><span class="co"># a) MA in 1979, sorted by births descending</span></span>
<span id="cb58-5"><a href="#cb58-5"></a>Birthdays <span class="sc">%&gt;%</span> </span>
<span id="cb58-6"><a href="#cb58-6"></a>  <span class="fu">filter</span>(state <span class="sc">==</span> <span class="st">"MA"</span>, year <span class="sc">==</span> <span class="dv">1979</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb58-7"><a href="#cb58-7"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(births))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    state year month day       date  wday births
1      MA 1979     9  28 1979-09-28   Fri    262
2      MA 1979     9  11 1979-09-11  Tues    252
3      MA 1979    12  28 1979-12-28   Fri    249
4      MA 1979     9  26 1979-09-26   Wed    246
5      MA 1979     7  24 1979-07-24  Tues    245
6      MA 1979     4  27 1979-04-27   Fri    243
7      MA 1979     8   6 1979-08-06   Mon    243
8      MA 1979    10   2 1979-10-02  Tues    239
9      MA 1979     6  29 1979-06-29   Fri    238
10     MA 1979     8  23 1979-08-23 Thurs    238
11     MA 1979     2  23 1979-02-23   Fri    237
12     MA 1979     5   1 1979-05-01  Tues    236
13     MA 1979     7  18 1979-07-18   Wed    236
14     MA 1979     8   2 1979-08-02 Thurs    236
15     MA 1979     5  24 1979-05-24 Thurs    235
16     MA 1979     8   1 1979-08-01   Wed    235
17     MA 1979     4   6 1979-04-06   Fri    234
18     MA 1979     8  31 1979-08-31   Fri    234
19     MA 1979     5  10 1979-05-10 Thurs    233
20     MA 1979     8  15 1979-08-15   Wed    233
21     MA 1979     3  23 1979-03-23   Fri    232
22     MA 1979     6  12 1979-06-12  Tues    232
23     MA 1979     7  10 1979-07-10  Tues    232
24     MA 1979     7  25 1979-07-25   Wed    232
25     MA 1979     6  27 1979-06-27   Wed    231
26     MA 1979     7  27 1979-07-27   Fri    231
27     MA 1979    10   5 1979-10-05   Fri    231
28     MA 1979     5  23 1979-05-23   Wed    230
29     MA 1979     9  19 1979-09-19   Wed    229
30     MA 1979     2  16 1979-02-16   Fri    228
31     MA 1979     8  16 1979-08-16 Thurs    228
32     MA 1979     8  24 1979-08-24   Fri    228
33     MA 1979     9  17 1979-09-17   Mon    228
34     MA 1979     4  30 1979-04-30   Mon    227
35     MA 1979     6  26 1979-06-26  Tues    227
36     MA 1979     7  20 1979-07-20   Fri    227
37     MA 1979     8  10 1979-08-10   Fri    227
38     MA 1979     8  14 1979-08-14  Tues    227
39     MA 1979     9  24 1979-09-24   Mon    227
40     MA 1979     3   5 1979-03-05   Mon    226
41     MA 1979     6  21 1979-06-21 Thurs    226
42     MA 1979     2   2 1979-02-02   Fri    225
43     MA 1979     2  27 1979-02-27  Tues    225
44     MA 1979     4   9 1979-04-09   Mon    225
45     MA 1979     5   8 1979-05-08  Tues    225
46     MA 1979     7  17 1979-07-17  Tues    225
47     MA 1979     9  14 1979-09-14   Fri    225
48     MA 1979     9  20 1979-09-20 Thurs    225
49     MA 1979     6  11 1979-06-11   Mon    224
50     MA 1979    11   9 1979-11-09   Fri    224
51     MA 1979     2  14 1979-02-14   Wed    223
52     MA 1979     7  23 1979-07-23   Mon    223
53     MA 1979     8   9 1979-08-09 Thurs    223
54     MA 1979     1   3 1979-01-03   Wed    222
55     MA 1979     1  22 1979-01-22   Mon    222
56     MA 1979     6  19 1979-06-19  Tues    222
57     MA 1979     9   4 1979-09-04  Tues    222
58     MA 1979     9  21 1979-09-21   Fri    222
59     MA 1979    10  23 1979-10-23  Tues    222
60     MA 1979     2   6 1979-02-06  Tues    221
61     MA 1979     3  19 1979-03-19   Mon    221
62     MA 1979     4  25 1979-04-25   Wed    221
63     MA 1979     8  20 1979-08-20   Mon    221
64     MA 1979     9  18 1979-09-18  Tues    221
65     MA 1979    11   6 1979-11-06  Tues    221
66     MA 1979     2  20 1979-02-20  Tues    220
67     MA 1979     4  26 1979-04-26 Thurs    220
68     MA 1979     8  13 1979-08-13   Mon    220
69     MA 1979     8  17 1979-08-17   Fri    220
70     MA 1979     9  10 1979-09-10   Mon    220
71     MA 1979    10  25 1979-10-25 Thurs    220
72     MA 1979    10  26 1979-10-26   Fri    220
73     MA 1979     3   6 1979-03-06  Tues    219
74     MA 1979     6   1 1979-06-01   Fri    219
75     MA 1979     8  29 1979-08-29   Wed    219
76     MA 1979     9  27 1979-09-27 Thurs    219
77     MA 1979    10   1 1979-10-01   Mon    219
78     MA 1979    11  19 1979-11-19   Mon    219
79     MA 1979     4  24 1979-04-24  Tues    218
80     MA 1979     5  21 1979-05-21   Mon    218
81     MA 1979     6  28 1979-06-28 Thurs    218
82     MA 1979     7   9 1979-07-09   Mon    218
83     MA 1979     8   3 1979-08-03   Fri    218
84     MA 1979     9   6 1979-09-06 Thurs    218
85     MA 1979    10   3 1979-10-03   Wed    218
86     MA 1979     6   7 1979-06-07 Thurs    217
87     MA 1979     6  14 1979-06-14 Thurs    217
88     MA 1979     7   3 1979-07-03  Tues    217
89     MA 1979     8   8 1979-08-08   Wed    217
90     MA 1979    10   4 1979-10-04 Thurs    217
91     MA 1979    10  22 1979-10-22   Mon    217
92     MA 1979    10  29 1979-10-29   Mon    217
93     MA 1979    10   9 1979-10-09  Tues    216
94     MA 1979     1  16 1979-01-16  Tues    215
95     MA 1979     3  13 1979-03-13  Tues    215
96     MA 1979     5   4 1979-05-04   Fri    215
97     MA 1979     5  14 1979-05-14   Mon    215
98     MA 1979     6  22 1979-06-22   Fri    215
99     MA 1979     3  30 1979-03-30   Fri    214
100    MA 1979     6   5 1979-06-05  Tues    214
101    MA 1979    12  14 1979-12-14   Fri    214
102    MA 1979    12  27 1979-12-27 Thurs    214
103    MA 1979     3   8 1979-03-08 Thurs    213
104    MA 1979     4  18 1979-04-18   Wed    213
105    MA 1979     8  28 1979-08-28  Tues    213
106    MA 1979    10  12 1979-10-12   Fri    213
107    MA 1979    11  14 1979-11-14   Wed    213
108    MA 1979    12  31 1979-12-31   Mon    213
109    MA 1979     4  23 1979-04-23   Mon    212
110    MA 1979     5  11 1979-05-11   Fri    212
111    MA 1979     5  18 1979-05-18   Fri    212
112    MA 1979     5  30 1979-05-30   Wed    212
113    MA 1979     7   6 1979-07-06   Fri    212
114    MA 1979     7  19 1979-07-19 Thurs    212
115    MA 1979    10  17 1979-10-17   Wed    212
116    MA 1979    10  24 1979-10-24   Wed    212
117    MA 1979    12  11 1979-12-11  Tues    212
118    MA 1979     2   5 1979-02-05   Mon    211
119    MA 1979     3   7 1979-03-07   Wed    211
120    MA 1979     3  29 1979-03-29 Thurs    211
121    MA 1979     9   7 1979-09-07   Fri    211
122    MA 1979    10  30 1979-10-30  Tues    211
123    MA 1979     7   2 1979-07-02   Mon    210
124    MA 1979     1  15 1979-01-15   Mon    209
125    MA 1979     3  26 1979-03-26   Mon    209
126    MA 1979     4   4 1979-04-04   Wed    209
127    MA 1979     7  15 1979-07-15   Sun    209
128    MA 1979     2   8 1979-02-08 Thurs    208
129    MA 1979     4  11 1979-04-11   Wed    208
130    MA 1979     6   6 1979-06-06   Wed    208
131    MA 1979     6  30 1979-06-30   Sat    208
132    MA 1979     7  30 1979-07-30   Mon    208
133    MA 1979     9  29 1979-09-29   Sat    208
134    MA 1979    10  10 1979-10-10   Wed    208
135    MA 1979     2   9 1979-02-09   Fri    207
136    MA 1979     3   9 1979-03-09   Fri    207
137    MA 1979     4  20 1979-04-20   Fri    207
138    MA 1979     6  20 1979-06-20   Wed    207
139    MA 1979     7  26 1979-07-26 Thurs    207
140    MA 1979     8  21 1979-08-21  Tues    207
141    MA 1979     9  25 1979-09-25  Tues    207
142    MA 1979    11  26 1979-11-26   Mon    207
143    MA 1979     1   2 1979-01-02  Tues    206
144    MA 1979     2  22 1979-02-22 Thurs    206
145    MA 1979     7  12 1979-07-12 Thurs    206
146    MA 1979     7  13 1979-07-13   Fri    206
147    MA 1979     9   5 1979-09-05   Wed    206
148    MA 1979     5  25 1979-05-25   Fri    205
149    MA 1979    11  23 1979-11-23   Fri    205
150    MA 1979    11  28 1979-11-28   Wed    205
151    MA 1979    12   4 1979-12-04  Tues    205
152    MA 1979     1  26 1979-01-26   Fri    204
153    MA 1979     3  22 1979-03-22 Thurs    204
154    MA 1979     5  16 1979-05-16   Wed    204
155    MA 1979    10  16 1979-10-16  Tues    204
156    MA 1979    11  16 1979-11-16   Fri    204
157    MA 1979    12  24 1979-12-24   Mon    204
158    MA 1979     3   2 1979-03-02   Fri    203
159    MA 1979     4   3 1979-04-03  Tues    203
160    MA 1979     4  12 1979-04-12 Thurs    203
161    MA 1979     5   3 1979-05-03 Thurs    203
162    MA 1979    10   6 1979-10-06   Sat    203
163    MA 1979    11   1 1979-11-01 Thurs    203
164    MA 1979    11  30 1979-11-30   Fri    203
165    MA 1979    12  10 1979-12-10   Mon    203
166    MA 1979    12  17 1979-12-17   Mon    203
167    MA 1979     6   8 1979-06-08   Fri    202
168    MA 1979     6  15 1979-06-15   Fri    202
169    MA 1979    11  11 1979-11-11   Sun    202
170    MA 1979     1  29 1979-01-29   Mon    201
171    MA 1979     3  21 1979-03-21   Wed    201
172    MA 1979     3  28 1979-03-28   Wed    201
173    MA 1979     4  10 1979-04-10  Tues    201
174    MA 1979     5   2 1979-05-02   Wed    201
175    MA 1979    10  15 1979-10-15   Mon    201
176    MA 1979    11   7 1979-11-07   Wed    201
177    MA 1979     1  18 1979-01-18 Thurs    200
178    MA 1979     4  19 1979-04-19 Thurs    200
179    MA 1979     7  11 1979-07-11   Wed    200
180    MA 1979     7  21 1979-07-21   Sat    200
181    MA 1979     8   5 1979-08-05   Sun    200
182    MA 1979    10  19 1979-10-19   Fri    200
183    MA 1979    11   2 1979-11-02   Fri    200
184    MA 1979    11  15 1979-11-15 Thurs    200
185    MA 1979    11  20 1979-11-20  Tues    200
186    MA 1979     1  11 1979-01-11 Thurs    199
187    MA 1979     2  12 1979-02-12   Mon    199
188    MA 1979     3  14 1979-03-14   Wed    199
189    MA 1979     5  22 1979-05-22  Tues    199
190    MA 1979     2  26 1979-02-26   Mon    198
191    MA 1979     3  15 1979-03-15 Thurs    198
192    MA 1979     6  13 1979-06-13   Wed    198
193    MA 1979     6  18 1979-06-18   Mon    198
194    MA 1979     7  31 1979-07-31  Tues    198
195    MA 1979     8  26 1979-08-26   Sun    198
196    MA 1979     9  13 1979-09-13 Thurs    198
197    MA 1979    11  13 1979-11-13  Tues    198
198    MA 1979    12   7 1979-12-07   Fri    198
199    MA 1979     5  31 1979-05-31 Thurs    197
200    MA 1979    11  27 1979-11-27  Tues    197
201    MA 1979    12   6 1979-12-06 Thurs    197
202    MA 1979     2  21 1979-02-21   Wed    196
203    MA 1979     4  17 1979-04-17  Tues    196
204    MA 1979     4  21 1979-04-21   Sat    196
205    MA 1979     6  25 1979-06-25   Mon    196
206    MA 1979     8   4 1979-08-04   Sat    196
207    MA 1979     8   7 1979-08-07  Tues    196
208    MA 1979    10   8 1979-10-08   Mon    196
209    MA 1979    10  11 1979-10-11 Thurs    196
210    MA 1979     1  13 1979-01-13   Sat    195
211    MA 1979     4  13 1979-04-13   Fri    195
212    MA 1979     1  19 1979-01-19   Fri    194
213    MA 1979     3  16 1979-03-16   Fri    194
214    MA 1979     5   7 1979-05-07   Mon    194
215    MA 1979     9  12 1979-09-12   Wed    194
216    MA 1979    11   5 1979-11-05   Mon    194
217    MA 1979     1  10 1979-01-10   Wed    193
218    MA 1979     1  30 1979-01-30  Tues    193
219    MA 1979     3  11 1979-03-11   Sun    193
220    MA 1979     6  17 1979-06-17   Sun    193
221    MA 1979     8  27 1979-08-27   Mon    193
222    MA 1979     9   9 1979-09-09   Sun    193
223    MA 1979    12  13 1979-12-13 Thurs    193
224    MA 1979     1   5 1979-01-05   Fri    192
225    MA 1979     2  19 1979-02-19   Mon    192
226    MA 1979     3   1 1979-03-01 Thurs    192
227    MA 1979     7  14 1979-07-14   Sat    192
228    MA 1979    11  29 1979-11-29 Thurs    192
229    MA 1979     1   8 1979-01-08   Mon    191
230    MA 1979     1  12 1979-01-12   Fri    191
231    MA 1979     2  15 1979-02-15 Thurs    191
232    MA 1979     3  24 1979-03-24   Sat    191
233    MA 1979    10  28 1979-10-28   Sun    191
234    MA 1979     4   2 1979-04-02   Mon    190
235    MA 1979     5  27 1979-05-27   Sun    190
236    MA 1979    12   3 1979-12-03   Mon    190
237    MA 1979    12  12 1979-12-12   Wed    190
238    MA 1979     4   1 1979-04-01   Sun    189
239    MA 1979     4   5 1979-04-05 Thurs    189
240    MA 1979     8  22 1979-08-22   Wed    189
241    MA 1979    12  26 1979-12-26   Wed    189
242    MA 1979     1  24 1979-01-24   Wed    188
243    MA 1979     7  16 1979-07-16   Mon    188
244    MA 1979    11  21 1979-11-21   Wed    188
245    MA 1979     4  16 1979-04-16   Mon    187
246    MA 1979     6  10 1979-06-10   Sun    187
247    MA 1979     8  11 1979-08-11   Sat    187
248    MA 1979     2   7 1979-02-07   Wed    186
249    MA 1979     3  17 1979-03-17   Sat    186
250    MA 1979     3  27 1979-03-27  Tues    186
251    MA 1979     4   7 1979-04-07   Sat    186
252    MA 1979     5   9 1979-05-09   Wed    186
253    MA 1979     5  15 1979-05-15  Tues    186
254    MA 1979     5  17 1979-05-17 Thurs    186
255    MA 1979     7   7 1979-07-07   Sat    186
256    MA 1979     9  15 1979-09-15   Sat    186
257    MA 1979    10   7 1979-10-07   Sun    186
258    MA 1979     3  12 1979-03-12   Mon    185
259    MA 1979     3  20 1979-03-20  Tues    185
260    MA 1979    12   5 1979-12-05   Wed    185
261    MA 1979     1   4 1979-01-04 Thurs    184
262    MA 1979     2   1 1979-02-01 Thurs    184
263    MA 1979     5  29 1979-05-29  Tues    184
264    MA 1979     9   3 1979-09-03   Mon    184
265    MA 1979    11   8 1979-11-08 Thurs    184
266    MA 1979    12  19 1979-12-19   Wed    184
267    MA 1979    12  21 1979-12-21   Fri    184
268    MA 1979     1  23 1979-01-23  Tues    183
269    MA 1979     4  28 1979-04-28   Sat    183
270    MA 1979     6  24 1979-06-24   Sun    183
271    MA 1979     7  28 1979-07-28   Sat    183
272    MA 1979     7  29 1979-07-29   Sun    183
273    MA 1979     8  19 1979-08-19   Sun    183
274    MA 1979    10  21 1979-10-21   Sun    183
275    MA 1979    10  18 1979-10-18 Thurs    182
276    MA 1979     1   9 1979-01-09  Tues    180
277    MA 1979     2  11 1979-02-11   Sun    180
278    MA 1979     5  19 1979-05-19   Sat    180
279    MA 1979     5  28 1979-05-28   Mon    180
280    MA 1979     6   3 1979-06-03   Sun    180
281    MA 1979    10  20 1979-10-20   Sat    180
282    MA 1979    10  31 1979-10-31   Wed    180
283    MA 1979    12  18 1979-12-18  Tues    180
284    MA 1979     1  31 1979-01-31   Wed    179
285    MA 1979     3  10 1979-03-10   Sat    179
286    MA 1979     4  29 1979-04-29   Sun    179
287    MA 1979     7   5 1979-07-05 Thurs    179
288    MA 1979     8  30 1979-08-30 Thurs    179
289    MA 1979     1  25 1979-01-25 Thurs    178
290    MA 1979     5  26 1979-05-26   Sat    178
291    MA 1979    10  14 1979-10-14   Sun    178
292    MA 1979     2  28 1979-02-28   Wed    177
293    MA 1979     7   8 1979-07-08   Sun    177
294    MA 1979     2  25 1979-02-25   Sun    176
295    MA 1979     4  15 1979-04-15   Sun    176
296    MA 1979     9  22 1979-09-22   Sat    176
297    MA 1979     6  23 1979-06-23   Sat    175
298    MA 1979     7  22 1979-07-22   Sun    175
299    MA 1979    10  27 1979-10-27   Sat    175
300    MA 1979     2  10 1979-02-10   Sat    174
301    MA 1979     8  25 1979-08-25   Sat    174
302    MA 1979     9  16 1979-09-16   Sun    174
303    MA 1979    11  12 1979-11-12   Mon    174
304    MA 1979    11  17 1979-11-17   Sat    174
305    MA 1979     6   2 1979-06-02   Sat    173
306    MA 1979     7   1 1979-07-01   Sun    173
307    MA 1979    10  13 1979-10-13   Sat    173
308    MA 1979     3  25 1979-03-25   Sun    172
309    MA 1979     6  16 1979-06-16   Sat    172
310    MA 1979    11  10 1979-11-10   Sat    172
311    MA 1979     2  13 1979-02-13  Tues    171
312    MA 1979     3  31 1979-03-31   Sat    171
313    MA 1979     6   9 1979-06-09   Sat    171
314    MA 1979    11  25 1979-11-25   Sun    171
315    MA 1979    12  22 1979-12-22   Sat    171
316    MA 1979     5   6 1979-05-06   Sun    170
317    MA 1979     9   2 1979-09-02   Sun    170
318    MA 1979     1   6 1979-01-06   Sat    169
319    MA 1979     8  12 1979-08-12   Sun    169
320    MA 1979     9   8 1979-09-08   Sat    169
321    MA 1979    11   3 1979-11-03   Sat    169
322    MA 1979    12  15 1979-12-15   Sat    169
323    MA 1979     2  18 1979-02-18   Sun    168
324    MA 1979     9   1 1979-09-01   Sat    168
325    MA 1979    11  18 1979-11-18   Sun    166
326    MA 1979    12   1 1979-12-01   Sat    166
327    MA 1979     2  24 1979-02-24   Sat    165
328    MA 1979     4  22 1979-04-22   Sun    165
329    MA 1979     4  14 1979-04-14   Sat    164
330    MA 1979     7   4 1979-07-04   Wed    164
331    MA 1979     9  23 1979-09-23   Sun    164
332    MA 1979    12   2 1979-12-02   Sun    164
333    MA 1979     6   4 1979-06-04   Mon    163
334    MA 1979    12  16 1979-12-16   Sun    163
335    MA 1979     1  21 1979-01-21   Sun    162
336    MA 1979     1  27 1979-01-27   Sat    162
337    MA 1979     5  12 1979-05-12   Sat    162
338    MA 1979     9  30 1979-09-30   Sun    162
339    MA 1979    12  29 1979-12-29   Sat    161
340    MA 1979    12  23 1979-12-23   Sun    160
341    MA 1979     2   3 1979-02-03   Sat    159
342    MA 1979     8  18 1979-08-18   Sat    159
343    MA 1979     1  20 1979-01-20   Sat    158
344    MA 1979     2  17 1979-02-17   Sat    156
345    MA 1979     3   3 1979-03-03   Sat    156
346    MA 1979     3   4 1979-03-04   Sun    156
347    MA 1979    11  24 1979-11-24   Sat    156
348    MA 1979    12   9 1979-12-09   Sun    156
349    MA 1979     1   7 1979-01-07   Sun    155
350    MA 1979     1  14 1979-01-14   Sun    155
351    MA 1979     1  17 1979-01-17   Wed    155
352    MA 1979     4   8 1979-04-08   Sun    155
353    MA 1979    11   4 1979-11-04   Sun    155
354    MA 1979    12  20 1979-12-20 Thurs    154
355    MA 1979     2   4 1979-02-04   Sun    153
356    MA 1979     5  20 1979-05-20   Sun    153
357    MA 1979     3  18 1979-03-18   Sun    152
358    MA 1979    12  30 1979-12-30   Sun    152
359    MA 1979    12   8 1979-12-08   Sat    151
360    MA 1979    12  25 1979-12-25  Tues    150
361    MA 1979     5   5 1979-05-05   Sat    148
362    MA 1979    11  22 1979-11-22 Thurs    147
363    MA 1979     1  28 1979-01-28   Sun    146
364    MA 1979     1   1 1979-01-01   Mon    144
365    MA 1979     5  13 1979-05-13   Sun    143</code></pre>
</div>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1"></a><span class="co"># b) Top 5 states by total births from 1979-09-09 to 1979-09-12</span></span>
<span id="cb60-2"><a href="#cb60-2"></a>Birthdays <span class="sc">%&gt;%</span> </span>
<span id="cb60-3"><a href="#cb60-3"></a>  <span class="fu">filter</span>(date <span class="sc">&gt;=</span> <span class="fu">ymd</span>(<span class="st">"1979-09-09"</span>), date <span class="sc">&lt;=</span> <span class="fu">ymd</span>(<span class="st">"1979-09-12"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb60-4"><a href="#cb60-4"></a>  <span class="fu">group_by</span>(state) <span class="sc">%&gt;%</span> </span>
<span id="cb60-5"><a href="#cb60-5"></a>  <span class="fu">summarize</span>(<span class="at">total =</span> <span class="fu">sum</span>(births), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb60-6"><a href="#cb60-6"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(total)) <span class="sc">%&gt;%</span> </span>
<span id="cb60-7"><a href="#cb60-7"></a>  <span class="fu">head</span>(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 2
  state total
  &lt;chr&gt; &lt;int&gt;
1 CA     4422
2 TX     3151
3 NY     2621
4 IL     2235
5 OH     1938</code></pre>
</div>
</div>


<!-- -->


</main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="../ica/ica-wrangling.html" class="pagination-link" aria-label="Wrangling">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Wrangling</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../ica/ica-reshaping.html" class="pagination-link" aria-label="Reshaping">
        <span class="nav-page-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Reshaping</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb62" data-shortcodes="false"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb62-1"><a href="#cb62-1"></a><span class="co">---</span></span>
<span id="cb62-2"><a href="#cb62-2"></a><span class="an">title:</span><span class="co"> "Dates"</span></span>
<span id="cb62-3"><a href="#cb62-3"></a><span class="co">---</span></span>
<span id="cb62-6"><a href="#cb62-6"></a><span class="in">```{r}</span></span>
<span id="cb62-7"><a href="#cb62-7"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb62-8"><a href="#cb62-8"></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb62-9"><a href="#cb62-9"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb62-10"><a href="#cb62-10"></a><span class="fu">library</span>(mosaic)</span>
<span id="cb62-11"><a href="#cb62-11"></a><span class="in">```</span></span>
<span id="cb62-12"><a href="#cb62-12"></a></span>
<span id="cb62-15"><a href="#cb62-15"></a><span class="in">```{r}</span></span>
<span id="cb62-16"><a href="#cb62-16"></a><span class="co"># Exercise 1a: More Filtering</span></span>
<span id="cb62-17"><a href="#cb62-17"></a><span class="co"># Keep only Adelie and Chinstrap using %in%</span></span>
<span id="cb62-18"><a href="#cb62-18"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb62-19"><a href="#cb62-19"></a>  <span class="fu">filter</span>(species <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Adelie"</span>, <span class="st">"Chinstrap"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb62-20"><a href="#cb62-20"></a>  <span class="fu">count</span>(species)</span>
<span id="cb62-21"><a href="#cb62-21"></a><span class="co"># %in% keeps rows where species is one of the two</span></span>
<span id="cb62-22"><a href="#cb62-22"></a></span>
<span id="cb62-23"><a href="#cb62-23"></a><span class="co"># Keep only Adelie and Chinstrap using !=</span></span>
<span id="cb62-24"><a href="#cb62-24"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb62-25"><a href="#cb62-25"></a>  <span class="fu">filter</span>(species <span class="sc">!=</span> <span class="st">"Gentoo"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb62-26"><a href="#cb62-26"></a>  <span class="fu">count</span>(species)</span>
<span id="cb62-27"><a href="#cb62-27"></a><span class="co"># species != "Gentoo" drops Gentoo, leaving the other two</span></span>
<span id="cb62-28"><a href="#cb62-28"></a></span>
<span id="cb62-29"><a href="#cb62-29"></a><span class="co"># Exercise 1b: Handling NAs</span></span>
<span id="cb62-30"><a href="#cb62-30"></a><span class="co"># Count how many penguins missing body_mass_g</span></span>
<span id="cb62-31"><a href="#cb62-31"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">missing =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(body_mass_g)))</span>
<span id="cb62-32"><a href="#cb62-32"></a><span class="co"># Remove only those missing body_mass_g</span></span>
<span id="cb62-33"><a href="#cb62-33"></a>penguins_w_body_mass <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(body_mass_g))</span>
<span id="cb62-34"><a href="#cb62-34"></a><span class="co"># Remove rows missing *any* variable (use sparingly!)</span></span>
<span id="cb62-35"><a href="#cb62-35"></a>penguins_complete <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> <span class="fu">na.omit</span>()</span>
<span id="cb62-36"><a href="#cb62-36"></a><span class="co"># na.omit() drops rows with ANY NA; use only when you truly need complete cases</span></span>
<span id="cb62-37"><a href="#cb62-37"></a></span>
<span id="cb62-38"><a href="#cb62-38"></a><span class="co"># Exercise 2: More Selecting</span></span>
<span id="cb62-39"><a href="#cb62-39"></a><span class="co"># Keep everything except year and island</span></span>
<span id="cb62-40"><a href="#cb62-40"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>year, <span class="sc">-</span>island)</span>
<span id="cb62-41"><a href="#cb62-41"></a></span>
<span id="cb62-42"><a href="#cb62-42"></a><span class="co"># Keep species and all measurements in millimeters</span></span>
<span id="cb62-43"><a href="#cb62-43"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">select</span>(species, <span class="fu">ends_with</span>(<span class="st">"_mm"</span>))</span>
<span id="cb62-44"><a href="#cb62-44"></a></span>
<span id="cb62-45"><a href="#cb62-45"></a><span class="co"># Keep species and all bill-related measurements</span></span>
<span id="cb62-46"><a href="#cb62-46"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">select</span>(species, <span class="fu">starts_with</span>(<span class="st">"bill"</span>))</span>
<span id="cb62-47"><a href="#cb62-47"></a></span>
<span id="cb62-48"><a href="#cb62-48"></a><span class="co"># Keep species and all length-related measurements</span></span>
<span id="cb62-49"><a href="#cb62-49"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">select</span>(species, <span class="fu">contains</span>(<span class="st">"length"</span>))</span>
<span id="cb62-50"><a href="#cb62-50"></a></span>
<span id="cb62-51"><a href="#cb62-51"></a><span class="co"># Exercise 3: Arranging, Counting, Grouping by Multiple</span></span>
<span id="cb62-52"><a href="#cb62-52"></a><span class="co"># Sort by species then island</span></span>
<span id="cb62-53"><a href="#cb62-53"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(species, island)</span>
<span id="cb62-54"><a href="#cb62-54"></a></span>
<span id="cb62-55"><a href="#cb62-55"></a><span class="co"># Count male/female by species</span></span>
<span id="cb62-56"><a href="#cb62-56"></a>penguins <span class="sc">%&gt;%</span> <span class="fu">count</span>(species, sex)</span>
<span id="cb62-57"><a href="#cb62-57"></a></span>
<span id="cb62-58"><a href="#cb62-58"></a><span class="co"># Average body mass by species and sex</span></span>
<span id="cb62-59"><a href="#cb62-59"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb62-60"><a href="#cb62-60"></a>  <span class="fu">group_by</span>(species, sex) <span class="sc">%&gt;%</span> </span>
<span id="cb62-61"><a href="#cb62-61"></a>  <span class="fu">summarize</span>(<span class="at">mean_mass =</span> <span class="fu">mean</span>(body_mass_g, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb62-62"><a href="#cb62-62"></a></span>
<span id="cb62-63"><a href="#cb62-63"></a><span class="co"># Exercise 4: Dates with lubridate</span></span>
<span id="cb62-64"><a href="#cb62-64"></a>today <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="fu">today</span>())</span>
<span id="cb62-65"><a href="#cb62-65"></a><span class="fu">class</span>(today)           <span class="co"># "Date"</span></span>
<span id="cb62-66"><a href="#cb62-66"></a><span class="fu">year</span>(today)            <span class="co"># 2025</span></span>
<span id="cb62-67"><a href="#cb62-67"></a><span class="fu">month</span>(today)           <span class="co"># 5</span></span>
<span id="cb62-68"><a href="#cb62-68"></a><span class="fu">month</span>(today, <span class="at">label=</span><span class="cn">TRUE</span>)  <span class="co"># "May"</span></span>
<span id="cb62-69"><a href="#cb62-69"></a><span class="fu">week</span>(today)            <span class="co"># 19 (ISO week)</span></span>
<span id="cb62-70"><a href="#cb62-70"></a><span class="fu">mday</span>(today)            <span class="co"># 7 (day of month)</span></span>
<span id="cb62-71"><a href="#cb62-71"></a><span class="fu">yday</span>(today)            <span class="co"># 127 (day of year)</span></span>
<span id="cb62-72"><a href="#cb62-72"></a><span class="fu">wday</span>(today)            <span class="co"># 4 (1 = Sunday)</span></span>
<span id="cb62-73"><a href="#cb62-73"></a><span class="fu">wday</span>(today, <span class="at">label=</span><span class="cn">TRUE</span>)  <span class="co"># "Wed"</span></span>
<span id="cb62-74"><a href="#cb62-74"></a>today <span class="sc">&gt;=</span> <span class="fu">ymd</span>(<span class="st">"2024-02-14"</span>)  <span class="co"># TRUE</span></span>
<span id="cb62-75"><a href="#cb62-75"></a>today <span class="sc">&lt;</span>  <span class="fu">ymd</span>(<span class="st">"2024-02-14"</span>)  <span class="co"># FALSE</span></span>
<span id="cb62-76"><a href="#cb62-76"></a></span>
<span id="cb62-77"><a href="#cb62-77"></a><span class="co"># Exercise 5: Birthdays dataset</span></span>
<span id="cb62-78"><a href="#cb62-78"></a><span class="fu">data</span>(<span class="st">"Birthdays"</span>)</span>
<span id="cb62-79"><a href="#cb62-79"></a><span class="co"># How many days of data per state?</span></span>
<span id="cb62-80"><a href="#cb62-80"></a>Birthdays <span class="sc">%&gt;%</span> <span class="fu">count</span>(state)</span>
<span id="cb62-81"><a href="#cb62-81"></a></span>
<span id="cb62-82"><a href="#cb62-82"></a><span class="co"># Total births overall</span></span>
<span id="cb62-83"><a href="#cb62-83"></a>Birthdays <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">total_births =</span> <span class="fu">sum</span>(births))</span>
<span id="cb62-84"><a href="#cb62-84"></a></span>
<span id="cb62-85"><a href="#cb62-85"></a><span class="co"># Total births per state, sorted low→high</span></span>
<span id="cb62-86"><a href="#cb62-86"></a>Birthdays <span class="sc">%&gt;%</span> </span>
<span id="cb62-87"><a href="#cb62-87"></a>  <span class="fu">group_by</span>(state) <span class="sc">%&gt;%</span> </span>
<span id="cb62-88"><a href="#cb62-88"></a>  <span class="fu">summarize</span>(<span class="at">total =</span> <span class="fu">sum</span>(births)) <span class="sc">%&gt;%</span> </span>
<span id="cb62-89"><a href="#cb62-89"></a>  <span class="fu">arrange</span>(total)</span>
<span id="cb62-90"><a href="#cb62-90"></a></span>
<span id="cb62-91"><a href="#cb62-91"></a><span class="co"># Exercise 6: daily_births and plot</span></span>
<span id="cb62-92"><a href="#cb62-92"></a>daily_births <span class="ot">&lt;-</span> Birthdays <span class="sc">%&gt;%</span> </span>
<span id="cb62-93"><a href="#cb62-93"></a>  <span class="fu">group_by</span>(date, wday) <span class="sc">%&gt;%</span> </span>
<span id="cb62-94"><a href="#cb62-94"></a>  <span class="fu">summarize</span>(<span class="at">total_births =</span> <span class="fu">sum</span>(births), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb62-95"><a href="#cb62-95"></a></span>
<span id="cb62-96"><a href="#cb62-96"></a><span class="fu">ggplot</span>(daily_births, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> total_births, <span class="at">color =</span> wday)) <span class="sc">+</span></span>
<span id="cb62-97"><a href="#cb62-97"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb62-98"><a href="#cb62-98"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Date"</span>, <span class="at">y =</span> <span class="st">"Total Births"</span>, <span class="at">color =</span> <span class="st">"Weekday"</span>)</span>
<span id="cb62-99"><a href="#cb62-99"></a></span>
<span id="cb62-100"><a href="#cb62-100"></a><span class="co"># Exercise 7a: Monthly births over time</span></span>
<span id="cb62-101"><a href="#cb62-101"></a>monthly_births <span class="ot">&lt;-</span> Birthdays <span class="sc">%&gt;%</span> </span>
<span id="cb62-102"><a href="#cb62-102"></a>  <span class="fu">mutate</span>(<span class="at">month =</span> <span class="fu">month</span>(date, <span class="at">label =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb62-103"><a href="#cb62-103"></a>  <span class="fu">group_by</span>(year, month) <span class="sc">%&gt;%</span> </span>
<span id="cb62-104"><a href="#cb62-104"></a>  <span class="fu">summarize</span>(<span class="at">births =</span> <span class="fu">sum</span>(births), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb62-105"><a href="#cb62-105"></a></span>
<span id="cb62-106"><a href="#cb62-106"></a><span class="fu">ggplot</span>(monthly_births, <span class="fu">aes</span>(<span class="at">x =</span> month, <span class="at">y =</span> births, <span class="at">group =</span> year, <span class="at">color =</span> <span class="fu">factor</span>(year))) <span class="sc">+</span></span>
<span id="cb62-107"><a href="#cb62-107"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb62-108"><a href="#cb62-108"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Month"</span>, <span class="at">y =</span> <span class="st">"Total Births"</span>, <span class="at">color =</span> <span class="st">"Year"</span>)</span>
<span id="cb62-109"><a href="#cb62-109"></a><span class="co"># Seasonal peaks and troughs emerge, consistent patterns year-to-year.</span></span>
<span id="cb62-110"><a href="#cb62-110"></a></span>
<span id="cb62-111"><a href="#cb62-111"></a><span class="co"># Exercise 7b: Weekly births in 1988 by state (drop week 53)</span></span>
<span id="cb62-112"><a href="#cb62-112"></a>weekly_1988 <span class="ot">&lt;-</span> Birthdays <span class="sc">%&gt;%</span> </span>
<span id="cb62-113"><a href="#cb62-113"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">1988</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb62-114"><a href="#cb62-114"></a>  <span class="fu">mutate</span>(<span class="at">week =</span> <span class="fu">week</span>(date)) <span class="sc">%&gt;%</span> </span>
<span id="cb62-115"><a href="#cb62-115"></a>  <span class="fu">filter</span>(week <span class="sc">!=</span> <span class="dv">53</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb62-116"><a href="#cb62-116"></a>  <span class="fu">group_by</span>(state, week) <span class="sc">%&gt;%</span> </span>
<span id="cb62-117"><a href="#cb62-117"></a>  <span class="fu">summarize</span>(<span class="at">births =</span> <span class="fu">sum</span>(births), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb62-118"><a href="#cb62-118"></a></span>
<span id="cb62-119"><a href="#cb62-119"></a><span class="fu">ggplot</span>(weekly_1988, <span class="fu">aes</span>(<span class="at">x =</span> week, <span class="at">y =</span> births, <span class="at">color =</span> state)) <span class="sc">+</span></span>
<span id="cb62-120"><a href="#cb62-120"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb62-121"><a href="#cb62-121"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Week"</span>, <span class="at">y =</span> <span class="st">"Total Births"</span>, <span class="at">color =</span> <span class="st">"State"</span>)</span>
<span id="cb62-122"><a href="#cb62-122"></a><span class="co"># Notice seasonal trends differ by state</span></span>
<span id="cb62-123"><a href="#cb62-123"></a></span>
<span id="cb62-124"><a href="#cb62-124"></a><span class="co"># Exercise 7c: Compare MN vs LA in 1988</span></span>
<span id="cb62-125"><a href="#cb62-125"></a>mn_la_1988 <span class="ot">&lt;-</span> weekly_1988 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(state <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"MN"</span>, <span class="st">"LA"</span>))</span>
<span id="cb62-126"><a href="#cb62-126"></a></span>
<span id="cb62-127"><a href="#cb62-127"></a><span class="fu">ggplot</span>(mn_la_1988, <span class="fu">aes</span>(<span class="at">x =</span> week, <span class="at">y =</span> births, <span class="at">color =</span> state)) <span class="sc">+</span></span>
<span id="cb62-128"><a href="#cb62-128"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb62-129"><a href="#cb62-129"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Week"</span>, <span class="at">y =</span> <span class="st">"Total Births"</span>, <span class="at">color =</span> <span class="st">"State"</span>)</span>
<span id="cb62-130"><a href="#cb62-130"></a><span class="co"># MN and LA show different seasonal patterns reflecting climate differences</span></span>
<span id="cb62-131"><a href="#cb62-131"></a></span>
<span id="cb62-132"><a href="#cb62-132"></a><span class="co"># Exercise 8: More Practice</span></span>
<span id="cb62-133"><a href="#cb62-133"></a><span class="co"># a) MA in 1979, sorted by births descending</span></span>
<span id="cb62-134"><a href="#cb62-134"></a>Birthdays <span class="sc">%&gt;%</span> </span>
<span id="cb62-135"><a href="#cb62-135"></a>  <span class="fu">filter</span>(state <span class="sc">==</span> <span class="st">"MA"</span>, year <span class="sc">==</span> <span class="dv">1979</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb62-136"><a href="#cb62-136"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(births))</span>
<span id="cb62-137"><a href="#cb62-137"></a></span>
<span id="cb62-138"><a href="#cb62-138"></a><span class="co"># b) Top 5 states by total births from 1979-09-09 to 1979-09-12</span></span>
<span id="cb62-139"><a href="#cb62-139"></a>Birthdays <span class="sc">%&gt;%</span> </span>
<span id="cb62-140"><a href="#cb62-140"></a>  <span class="fu">filter</span>(date <span class="sc">&gt;=</span> <span class="fu">ymd</span>(<span class="st">"1979-09-09"</span>), date <span class="sc">&lt;=</span> <span class="fu">ymd</span>(<span class="st">"1979-09-12"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb62-141"><a href="#cb62-141"></a>  <span class="fu">group_by</span>(state) <span class="sc">%&gt;%</span> </span>
<span id="cb62-142"><a href="#cb62-142"></a>  <span class="fu">summarize</span>(<span class="at">total =</span> <span class="fu">sum</span>(births), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb62-143"><a href="#cb62-143"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(total)) <span class="sc">%&gt;%</span> </span>
<span id="cb62-144"><a href="#cb62-144"></a>  <span class="fu">head</span>(<span class="dv">5</span>)</span>
<span id="cb62-145"><a href="#cb62-145"></a></span>
<span id="cb62-146"><a href="#cb62-146"></a><span class="in">```</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>